<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../bower_components/iron-form/iron-form.html">
<link rel="import" href="shared-styles.html">

<dom-module id="app-browse">
    <template>
        <style include="shared-styles">
            :host {
                display: block;

                padding: 10px;
            }

            .search-elements {
                margin: 0 24px;
                padding: 16px;
                color: #757575;
                border-radius: 5px;
                background-color: #fff;
                box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);
            }

            input[type=text] {
                width: 70%;
                box-sizing: border-box;
                border: 2px solid #ccc;
                border-radius: 4px;
                font-size: 16px;
                background: white url('../images/search_icon.png') no-repeat 10px 10px;
                padding: 12px 20px 12px 40px;
                -webkit-transition: width 0.4s ease-in-out;
                transition: width 0.4s ease-in-out;
            }

            .button {
                background-color: var(--app-primary-color);
                color: white;
                margin: 8px 0;
                border: none;
                cursor: pointer;
                width: auto;
                padding: 10px 18px;
            }

        </style>

        <div class="search-elements">
            <form id="search-form" is="iron-form" method="get" on-iron-form-response="handleResponse"
                  action="../../api_v1/index.php/search/projects">
                <input type="text" name="phrase" placeholder="Suchbegriff">
                <button class="button">Aktualisieren</button>
                <br>
                Typ:
                <input name='projekt' type="checkbox" checked>Projektarbeit
                <input name='bachelor' type="checkbox" checked>Bachelorarbeit
                <input name='master' type="checkbox" checked>Masterarbeit
            </form>

        </div>

        <template is="dom-repeat" items="[[projects]]">
            <div class="entry">
                <div hidden="{{!item.degreeName.Inf}}" class="circle">Inf</div>
                <div hidden="{{!item.degreeName.WInf}}" class="circle">WInf</div>
                <div hidden="{{!item.degreeName.EC}}" class="circle">EC</div>

                <h1>{{item.name}}</h1>
                <p>{{item.description}}</p>
                <!--<p>Hier k√∂nnte noch was anderes stehen.</p>-->
                <a href="/detail/{{item.id}}">Mehr Details</a>
            </div>
        </template>

        <iron-ajax
                id="requestProjects"
                url="../../api_v1/index.php/projects"
                params='{"type":"all"}'
                handle-as="json"
                on-response="handleResponse">
        </iron-ajax>
    </template>
    <script src="js/app-browse.js"></script>
</dom-module>
